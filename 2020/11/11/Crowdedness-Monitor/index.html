<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Crowdedness Monitor | Zona Hu</title><meta name="description" content="IntroductionThe Crowdedness Monitor is a hardware device that can be installed in public places such as libraries to monitor its real-time crowdedness, which can be helpful for Waterloo students to de"><meta name="keywords" content="crowdednessmonitor"><meta name="author" content="Zona Hu"><meta name="copyright" content="Zona Hu"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://zonahu.tech/2020/11/11/Crowdedness-Monitor/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin="crossorigin"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="&lt;meta name=&quot;google-site-verification&quot; content=&quot;LXeLYW0Vzb0XrCLimb3GV3-cf6bIZIdf0dpdWlvW86s&quot; /&gt;"/><meta property="og:type" content="article"><meta property="og:title" content="Crowdedness Monitor"><meta property="og:url" content="http://zonahu.tech/2020/11/11/Crowdedness-Monitor/"><meta property="og:site_name" content="Zona Hu"><meta property="og:description" content="IntroductionThe Crowdedness Monitor is a hardware device that can be installed in public places such as libraries to monitor its real-time crowdedness, which can be helpful for Waterloo students to de"><meta property="og:image" content="https://sm.ms/image/uGf2Kc4dCHe6yxO"><meta property="article:published_time" content="2020-11-11T05:00:00.000Z"><meta property="article:modified_time" content="2021-12-16T05:00:00.000Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="How I Recovered My Picture With Eason Chan Using Face Restoration" href="http://zonahu.tech/2021/12/16/Face-Restoration/"><link rel="next" title="为简约、极简爱好者打造的Hexo主题“Coder”" href="http://zonahu.tech/2020/06/27/%E4%B8%80%E4%B8%AA%E4%B8%BA%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BE%E8%AE%A1%E7%9A%84%E7%AE%80%E6%B4%81hexo%E4%B8%BB%E9%A2%98/"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-160828914-1', 'auto');
ga('send', 'pageview');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Background-Research"><span class="toc-number">2.</span> <span class="toc-text">Background Research</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Implementation"><span class="toc-number">3.</span> <span class="toc-text">Implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hardware-Embedded-Systems"><span class="toc-number">3.1.</span> <span class="toc-text">Hardware &#x2F; Embedded Systems</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Backend"><span class="toc-number">3.2.</span> <span class="toc-text">Backend</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Frontend"><span class="toc-number">3.3.</span> <span class="toc-text">Frontend</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Algorithms"><span class="toc-number">3.4.</span> <span class="toc-text">Algorithms</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Group-members’-contribution"><span class="toc-number">4.</span> <span class="toc-text">Group members’ contribution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Final-Product-Evaluation"><span class="toc-number">5.</span> <span class="toc-text">Final Product Evaluation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Design-Trade-offs"><span class="toc-number">6.</span> <span class="toc-text">Design Trade-offs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Future-Work"><span class="toc-number">7.</span> <span class="toc-text">Future Work</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#References"><span class="toc-number">8.</span> <span class="toc-text">References</span></a></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://sm.ms/image/uGf2Kc4dCHe6yxO)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Zona Hu</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Crowdedness Monitor</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-11-11 00:00:00"><i class="far fa-calendar-alt fa-fw"></i> Created 2020-11-11</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2021-12-16 00:00:00"><i class="fas fa-history fa-fw"></i> Updated 2021-12-16</span></time></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>Word count:</span><span class="word-count">1.3k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>Reading time: 7 min</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>Comments:</span><a href="/2020/11/11/Crowdedness-Monitor/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/11/11/Crowdedness-Monitor/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>The Crowdedness Monitor is a hardware device that can be installed in public places such as libraries to monitor its real-time crowdedness, which can be helpful for Waterloo students to decide the best place for studying, eating or exercising. The crowdedness of a location is reflected by the number of unique MAC addresses present, which is obtained by monitoring the packets that Wi-Fi devices transmit in the IEEE 802.11 data link layer.</p>
<h3 id="Background-Research"><a href="#Background-Research" class="headerlink" title="Background Research"></a>Background Research</h3><p>Research shows that every Wi-Fi device, when probing for available networks, will unavoidably expose its MAC Address, the unique identifier of network devices, in the data link layer, which can be probed by specialized devices easily [1]. In this way, the MAC addresses of Wi-Fi devices within the range of the probe can be obtained even without the devices themselves being connected to any network, making it an ideal measurement of crowdedness.</p>
<p>To address the privacy issue this may cause, many manufacturers have introduced a technique called MAC Randomization, which allows devices to use a randomized MAC address. However, these randomly generated MAC addresses will have the universal/local bit set to 1 and can be easily distinguished and excluded.</p>
<h3 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h3><p><img src= "/img/loading.gif" data-src="https://lh3.googleusercontent.com/FNP0f--PXtr7LRDOGqgsm-WaVfkQol_FJT-hooiSFH3Pqp1zeMBD4H3lDszoioKvDoX-aixsCVlfb4siXLpXOMo6a9VyWsvOxdNnZfOZWRugyWhca3uzrq25FAAm6iwfvJV438aDKxRBJj-GSrK2Bw" alt=""></p>
<p>Figure 1. The overall architecture of programs</p>
<p>Figure 1 illustrates how each module interacts with one another. The whole system can be divided into three parts: backend, frontend, and embedded systems.</p>
<h4 id="Hardware-Embedded-Systems"><a href="#Hardware-Embedded-Systems" class="headerlink" title="Hardware / Embedded Systems"></a>Hardware / Embedded Systems</h4><p>The embedded systems comprise of Raspberry Pi Zero W devices, which collects nearby Wi-Fi devices and transfers data to the backend server.</p>
<p>The cron daemon will invoke the script periodically. The script collects packets by using a Wi-Fi adapter set to monitor mode with tshark. The command used is</p>
<p><code>tshark -l -Ini ${CARD} -o &quot;gui.column.format:\&quot;Source\&quot;,\&quot;%us\&quot;,\&quot;Destination\&quot;,\&quot;%rd\&quot;&quot; -a duration:${SCAN_TIME} &gt; $filename</code></p>
<p><a href="https://git.uwaterloo.ca/STAZZ/crowdedness-monitor/blob/master/embedded/read_packet.py" target="_blank" rel="noopener">A python script</a> is written to parse the output of tshark and extracts MAC addresses from it. After that, the data is reported to the backend.</p>
<p>Experimentally, <a href="https://git.uwaterloo.ca/STAZZ/crowdedness-monitor/blob/master/embedded/led.py" target="_blank" rel="noopener">another script</a> is written to control a MAX7219 LED Matrix, making it display the real-time information of buildings.</p>
<h4 id="Backend"><a href="#Backend" class="headerlink" title="Backend"></a>Backend</h4><p>The backend server is written with Flask and SQLAlchemy. It responds to API requests from the frontend and embedded systems and stores data into a MySQL database.</p>
<p>It also runs machine-learning algorithms (Section 3.4) to predict future trends from historical data.</p>
<h4 id="Frontend"><a href="#Frontend" class="headerlink" title="Frontend"></a>Frontend</h4><p>The frontend is a react web app served by Nginx which fetches data from the backend API and displays it in a user-friendly manner.</p>
<h4 id="Algorithms"><a href="#Algorithms" class="headerlink" title="Algorithms"></a>Algorithms</h4><p>Crowdedness: Crowdedness of locations is represented by a number between 0 to 100. This is calculated by the formula below:</p>
<p><a href="https://www.codecogs.com/eqnedit.php?latex=c%20%3D%20%5Ctext%7Bmin%7D(%5Ctext%7Bmax%7D(%5Cfrac%7Bd-l%7D%7Bh-l%7D%2C%200)%2C%20100)%5Ccdot%20100%5C%25%0" target="_blank" rel="noopener"><img src= "/img/loading.gif" data-src="https://lh6.googleusercontent.com/3cD-LTJB80ZcQpQlYWKPEOtCMTBOWELP2f0Vafwng-KMbjYA1xuR-QXsYovTiSvkNsvy-CeORRa6xZZ77WNBlEzx0Xn6Qd4Mt9OWV2etKpS1-b5fVaLGeVqqOus32-vmLf-20pUIs-oErQ-vsMdgWg" alt=""></a></p>
<p>where c is the crowdedness value, d is the current number of unique MAC addresses, h is the 95th-percentile of all historical numbers of MAC addresses and l is the 5th-percentile to avoid the influence of extreme points and outliers.</p>
<p>Clustering:</p>
<p>The K-means algorithm from Sklearn is used to aggregate and summarize hourly crowdedness every day. Preprocessed historical data, inputted into the K-means algorithm, can generate a prediction of the crowdedness of every hour of every weekday (Sunday, Monday, etc.).</p>
<p>ML algorithm (Lightgbm):</p>
<p>Lightgbm is a powerful tree-based model that can automatically rank the importance of input features. The most difficult part of applying Lightgbm is finding the optimal features. The most important feature for this Time Series problem is the “time” feature. Also, based on the result of the clustering algorithm, it is discovered that the weekday also influences the crowdedness and thereby is chosen to be used as one of the features. Additionally, hours and minutes are also used as features and are used as sparse matrix.</p>
<h3 id="Group-members’-contribution"><a href="#Group-members’-contribution" class="headerlink" title="Group members’ contribution"></a>Group members’ contribution</h3><p>Zuomiao (Zona) Hu:</p>
<p>Responsible for the project proposal, implementation of backend features such as time localization and input sanitization, report writing and bug fixes.</p>
<p>Zuoqiu (Robert) Liu</p>
<p>Responsible for designing and implementing the Machine Learning models as well as data analysis.</p>
<p>Song (Tony) Sheng</p>
<p>Assisted in backend development including data acquisition and organization. Also responsible for proofreading the report.</p>
<p>Anhai (Mark) Wang</p>
<p>Responsible for the UI/UX design and implementation of the frontend React web app, as well as designing the presentation slides.</p>
<p>Shiyuan (Harry) Yu</p>
<p>Responsible for the design of the system architecture and the development of embedded systems. Also helped with backend development by implementing the initial framework.</p>
<h3 id="Final-Product-Evaluation"><a href="#Final-Product-Evaluation" class="headerlink" title="Final Product Evaluation"></a>Final Product Evaluation</h3><p>To check the final source code, you could go to this <a href="https://github.com/harrynull/crowdedness-monitor" target="_blank" rel="noopener">link</a>.</p>
<p>Most of the planned features are implemented, including packets analysis, crowdedness, prediction, backend server, web interface, etc. In addition, an LED Matrix is also added as an experiment.</p>
<p><img src= "/img/loading.gif" data-src="https://lh5.googleusercontent.com/THuuzBiDOjcN5gV5doA8jK3nbWy44mV5-MAu3mIkoXA5S0bcqDUUJKiKLJZBPYqUrA0gXBENpxOETxwFdxxO5nU9VjjL1vVU9Ythd7K3vY_UlC3waSgOpyckwOVaSGCfVFuZipgRNzAPa6rJUbyVNA" alt=""></p>
<p>Figure 2. The number of Unique MAC Addresses collected from Davis Center library.</p>
<p><img src= "/img/loading.gif" data-src="https://lh5.googleusercontent.com/5EzDGsSMASbMghNe-EulPG9ApFNGnwwcRM0xWGb6fi2A0p23baJHtGcploWltkPRfeA9tELmA6PLwF9h5lb4HwhZY0FIjxkKqfJBVY4p_eGHn7KasVbkwGZB3zbhPWnUPalXMJvLBRxVWgbQSNHoog" alt=""></p>
<p>Figure 3. Number of Unique MAC Addresses in the Davis Center library (11/19 to 11/20)</p>
<p>As shown in the figures, our system can reflect the crowdedness of the two libraries. Figure 2 shows that there are fewer people at the DC library during the weekends. Figure 3 illustrates that after the library closes, the busyness drops greatly, which is expected.</p>
<p><img src= "/img/loading.gif" data-src="https://lh5.googleusercontent.com/C0kYhCzlVJ2FGnqkh0ZXIrrJXAzfG_TKjZzjdSUyA6e09DdDSAQ7MYbX82eK5Gk7QzzmcFaIByBHQ0QoxO9tu8utLkcLN_dN5vjXMpnsiXO0r__z3AjbxIVVGg1IoXrCtmrN69MUZtqWBYWaobmdNA" alt=""></p>
<p>Figure 4. Performance of the test set (Prediction of DP Library)</p>
<p><img src= "/img/loading.gif" data-src="https://lh5.googleusercontent.com/xNjWGDaque9nBSHcaJMurudVytogXo3t7FgpBJ8HFrjzMuHl9lTSWBiNN3ZiqQJFh4mRDbOiOAJ_CuGN5jh0gNGNOx7ptWpte-HyMmXngVegzAP1ZdiMI-cpgAk1dPrl15KWtqxc-kI8QaXKJtDW1A" alt=""></p>
<p>Figure 5. Prediction Machine Learning Algorithm Evaluation (DC library)</p>
<p>The root-mean-squared error (RMSE) for the prediction algorithm is from 40 to 45, which is sufficiently accurate for generating the crowdedness. It would result in around 10% of error in the final crowdedness. Figure 4 and Figure 5 show that the prediction has very similar tendency compared to the actual data.</p>
<h3 id="Design-Trade-offs"><a href="#Design-Trade-offs" class="headerlink" title="Design Trade-offs"></a>Design Trade-offs</h3><p>A tradeoff has to be made when choosing the scanning interval of the probe. A short interval leads to more accurate predictions but are more energy-consuming. A longer interval, on the contrary, consumes less energy yet produces less real-time results. The finalized version of the device adapts a 5-minute scanning interval which was experimentally determined to ensure maximum possible energy efficiency while hardly compromising real-time accuracy.</p>
<p>It is also noteworthy that there might exist a strong positive correlation between the number of probing devices employed and the accuracy of the data collected. Since each detector has a limited range, a considerable number of devices have to be installed to eliminate blind areas in an ideal situation. This, however, is not practical given the immense cost and labour required to implement such a large-scale probing network. As a result, only two units are installed, one of which are placed in Davis Centre Library and the other in Dana Porter. The units are installed in typical study area so that the overall crowdedness can be estimated, assuming that people are distributed uniformly.</p>
<h3 id="Future-Work"><a href="#Future-Work" class="headerlink" title="Future Work"></a>Future Work</h3><p>This project can be further improved by adding more probing stations in different locations to achieve better coverage. More devices installed on each floor can also provide a more accurate result. </p>
<p>Another thing worth trying is the integration of a noise detector into the devices, which is a potentially good source of detecting crowdedness. </p>
<p>Furthermore, accuracy might also be enhanced by users’ real-time feedback. It will be more helpful if the website had a section for user comments.</p>
<p>The prediction algorithm might be further improved by applying Deep Learning.</p>
<p>On the other hand, the development of mobile apps on Android and iOS platforms can make access to the app easier. </p>
<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><p>[1] J. Martin et al., “A Study of MAC Address Randomization in Mobile Devices and When it Fails,” Proc. Priv. Enhancing Technol., vol. 2017, no. 4, pp. 365–383, 2017.</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Zona Hu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://zonahu.tech/2020/11/11/Crowdedness-Monitor/">http://zonahu.tech/2020/11/11/Crowdedness-Monitor/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/projects/">Projects</a></div><div class="post_share"><div class="social-share" data-image="https://miro.medium.com/max/1124/1*tK-d0GRBdIvOsCf38PARPg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="wechat" onclick="window.open('/img/wechat.jpg')"/><div class="post-qr-code__desc">wechat</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="alipay" onclick="window.open('/img/alipay.jpg')"/><div class="post-qr-code__desc">alipay</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/12/16/Face-Restoration/"><img class="prev-cover" data-src="https://s2.loli.net/2021/12/17/Xvxm2E8SHY5y6oO.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">How I Recovered My Picture With Eason Chan Using Face Restoration</div></div></a></div><div class="next-post pull-right"><a href="/2020/06/27/%E4%B8%80%E4%B8%AA%E4%B8%BA%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BE%E8%AE%A1%E7%9A%84%E7%AE%80%E6%B4%81hexo%E4%B8%BB%E9%A2%98/"><img class="next-cover" data-src="https://i.loli.net/2020/06/28/a6UEk75mKiAJCw4.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">为简约、极简爱好者打造的Hexo主题“Coder”</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2022/04/16/History-Deletor/" title="History Deletor"><img class="relatedPosts_cover" data-src="https://s2.loli.net/2021/12/17/Xvxm2E8SHY5y6oO.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-16</div><div class="relatedPosts_title">History Deletor</div></div></a></div><div class="relatedPosts_item"><a href="/2022/12/22/proLearner/" title="ProLearner - Our CS 449 Project"><img class="relatedPosts_cover" data-src="https://miro.medium.com/max/1124/1*tK-d0GRBdIvOsCf38PARPg.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-22</div><div class="relatedPosts_title">ProLearner - Our CS 449 Project</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'Qo19zspWTnzrGvKqu0x2Bfbo-gzGzoHsz',
  appKey: '4hLFNEHbTXjooVtYBAEGhXko',
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'en',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: false,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2023 By Zona Hu</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font_plus" title="Increase Font Size"><i class="fas fa-plus"></i></button><button id="font_minus" title="Decrease Font Size"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="Setting"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>